<!-- 引入 medium-zoom JS -->
<script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const zoom = mediumZoom('.post-content img', {
            margin: 24,       // 放大后距离屏幕边缘的距离
            background: '',   // 背景色我们用 CSS 控制（支持毛玻璃）
            scrollOffset: 0,  // 滚动多少距离就自动收回
        });

        // 适配 PaperMod 的暗黑模式切换
        const target = document.querySelector('body');
        const observer = new MutationObserver(() => {
            const isDark = target.classList.contains('dark');
            zoom.update({
                background: isDark ? 'rgba(28, 28, 30, 0.9)' : 'rgba(255, 255, 255, 0.9)'
            });
        });
        observer.observe(target, { attributes: true, attributeFilter: ['class'] });
    });
</script>

<script src="https://instant.page/5.2.0" type="module" integrity="sha384-jnZyxPjiipSQRXUXn4as58S/guKPS6q2DpuEtql7ELsf8PCCm50qB1R6S4o3n654"></script>
